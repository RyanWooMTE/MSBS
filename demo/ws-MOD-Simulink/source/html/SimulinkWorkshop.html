<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Arial","sans-serif";
	color:maroon;
	font-weight:bold;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	color:maroon;
	font-weight:bold;
	font-style:italic;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:13.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;
	font-style:italic;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	font-style:italic;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Cambria","serif";}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"Subtitle Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
em
	{font-family:"Calibri","sans-serif";
	font-weight:bold;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoQuote, li.MsoQuote, div.MsoQuote
	{mso-style-link:"Quote Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	font-style:italic;}
p.MsoIntenseQuote, li.MsoIntenseQuote, div.MsoIntenseQuote
	{mso-style-link:"Intense Quote Char";
	margin-top:0in;
	margin-right:.5in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;
	font-style:italic;}
span.MsoSubtleEmphasis
	{color:#5A5A5A;
	font-style:italic;}
span.MsoIntenseEmphasis
	{font-weight:bold;
	font-style:italic;
	text-decoration:underline;}
span.MsoSubtleReference
	{text-decoration:underline;}
span.MsoIntenseReference
	{font-weight:bold;
	text-decoration:underline;}
span.MsoBookTitle
	{font-family:"Cambria","serif";
	font-weight:bold;
	font-style:italic;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Arial","sans-serif";
	color:maroon;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Arial","sans-serif";
	color:maroon;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Arial","sans-serif";
	color:maroon;
	font-weight:bold;
	font-style:italic;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Cambria","serif";
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-weight:bold;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-weight:bold;
	font-style:italic;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-weight:bold;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	font-style:italic;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	font-family:"Cambria","serif";}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Cambria","serif";
	font-weight:bold;}
span.SubtitleChar
	{mso-style-name:"Subtitle Char";
	mso-style-link:Subtitle;
	font-family:"Cambria","serif";}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
p.msolistparagraphcxspfirst, li.msolistparagraphcxspfirst, div.msolistparagraphcxspfirst
	{mso-style-name:msolistparagraphcxspfirst;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.msolistparagraphcxspmiddle, li.msolistparagraphcxspmiddle, div.msolistparagraphcxspmiddle
	{mso-style-name:msolistparagraphcxspmiddle;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.msolistparagraphcxsplast, li.msolistparagraphcxsplast, div.msolistparagraphcxsplast
	{mso-style-name:msolistparagraphcxsplast;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
span.QuoteChar
	{mso-style-name:"Quote Char";
	mso-style-link:Quote;
	font-style:italic;}
span.IntenseQuoteChar
	{mso-style-name:"Intense Quote Char";
	mso-style-link:"Intense Quote";
	font-weight:bold;
	font-style:italic;}
p.msopapdefault, li.msopapdefault, div.msopapdefault
	{mso-style-name:msopapdefault;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
.MsoChpDefault
	{font-size:10.0pt;}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=WordSection1>

<h1>Simulink Hands-On Workshop</h1>

<p class=MsoNormal>This workshop will guide you through some of the basic and
intermediate skills for plant modeling, control design, and simulation in
Simulink</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Version 2.4</p>

<p class=MsoTocHeading>Table of Contents</p>

<p class=MsoToc1><a href="#_Toc249261042"><span style='font-family:"Times New Roman","serif"'>Section
1: Construction Basics</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 1</span></a></p>

<p class=MsoToc1><a href="#_Toc249261043"><span style='font-family:"Times New Roman","serif"'>Section
2: Controlling Simulation</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 2</span></a></p>

<p class=MsoToc1><a href="#_Toc249261044"><span style='font-family:"Times New Roman","serif"'>Section
3: Vectorizing Signals and Model Hierarchy</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 2</span></a></p>

<p class=MsoToc1><a href="#_Toc249261045"><span style='font-family:"Times New Roman","serif"'>Section
4: Library Basics</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 3</span></a></p>

<p class=MsoToc1><a href="#_Toc249261046"><span style='font-family:"Times New Roman","serif"'>Section
5: Masking Subsystems</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 3</span></a></p>

<p class=MsoToc1><a href="#_Toc249261047"><span style='font-family:"Times New Roman","serif"'>Section
6: Buses</span><span style='font-family:"Times New Roman","serif";color:windowtext;
display:none;text-decoration:none'>. 3</span></a></p>

<p class=MsoToc1><a href="#_Toc249261048"><span style='font-family:"Times New Roman","serif"'>Section
7: More on Subsystems</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 4</span></a></p>

<p class=MsoToc1><a href="#_Toc249261049"><span style='font-family:"Times New Roman","serif"'>Section
8: Referencing Models</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 4</span></a></p>

<p class=MsoToc1><a href="#_Toc249261050"><span style='font-family:"Times New Roman","serif"'>Section
9: Controlling Sample Rates</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 5</span></a></p>

<p class=MsoToc1><a href="#_Toc249261051"><span style='font-family:"Times New Roman","serif"'>Section
10: MATLAB Functions and Bus Objects</span><span style='font-family:"Times New Roman","serif";
color:windowtext;display:none;text-decoration:none'>. 5</span></a>&nbsp;</p>

<h2><a name="_Toc249261042">Section 1: Construction Basics</a></h2>

<p class=MsoNormal>This section will show the Library Browser, how to begin to
construct simple models, and how to run and save your new model.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;<a href="matlab:Step_01">Open a model ready to proceed
with this step.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>&nbsp;Standard Instructions:</b></p>

<p class=MsoListParagraph style='text-indent:-.25in'>1.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open the Simulink Library browser.
</p>

<p class=MsoListParagraph style='text-indent:-.25in'>2.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Create a new model. </p>

<p class=MsoListParagraph style='text-indent:-.25in'>3.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Add a Constant block from
'Sources.' </p>

<p class=MsoListParagraph style='text-indent:-.25in'>4.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Add a Second Order Integrator
block from<span style='font-size:10.0pt;font-family:"Courier New"'> </span>'Continuous.'
</p>

<p class=MsoListParagraph style='text-indent:-.25in'>5.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Add a Scope from 'Sinks.' </p>

<p class=MsoListParagraph style='text-indent:-.25in'>6.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Add a Terminator block from
‘Sinks.’</p>

<p class=MsoListParagraph style='text-indent:-.25in'>7.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Connect the blocks. </p>

<p class=MsoListParagraph style='text-indent:-.25in'>8.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Change the constant value to -9.8.
</p>

<p class=MsoListParagraph style='text-indent:-.25in'>9.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Press the Play button and
double-click the Scope to view the results. </p>

<p class=MsoListParagraph style='text-indent:-.25in'>10.<span style='font-size:
7.0pt'>&nbsp; </span>Save your model. </p>

<p class=MsoListParagraph style='text-indent:-.25in'>&nbsp;</p>

<p class=MsoNormal>&nbsp;<a href="matlab:Step_02">Open the completed model.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>&nbsp;Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'>Automatically <a
     href="matlab:web([docroot%20'/simulink/ug/aligning-distributing-and-resizing-groups-of-blocks-automatically.html'%5d)">align/distribute/resize</a>
     the blocks. (Be sure to save first.) </li>
 <li class=MsoNormal style='line-height:115%'>Hide the Integrator and
     Terminator block names. </li>
 <li class=MsoNormal style='line-height:115%'>Play with the <a
     href="matlab:web([docroot%20'/simulink/ug/summary-of-mouse-and-keyboard-actions.html'%5d)">keyboard
     and mouse shortcuts</a> for zooming and panning. </li>
</ul>

<h2><a name="_Toc249261043">Section 2: Controlling Simulation</a></h2>

<p class=MsoNormal>This section focuses on changing how Simulink numerically
simulates your model.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;<a href="matlab:Step_02">Open a model ready to proceed
with this step.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>&nbsp;Standard Instructions:</b></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='line-height:115%'>Label acceleration, velocity, and
     position signals by double-clicking on the signal.</li>
 <li class=MsoNormal style='line-height:115%'>Rename the Constant block to
     ‘gravity.’</li>
 <li class=MsoNormal style='line-height:115%'>Define the initial condition of
     the position (in the Integrator block) to be 500 and of the velocity to be
     5. </li>
 <li class=MsoNormal style='line-height:115%'>Change simulation stop time to
     100 seconds. </li>
 <li class=MsoNormal style='line-height:115%'>Find a way to stop the simulation
     automatically when the position reaches 0. </li>
 <ol style='margin-top:0in' start=1 type=A>
  <li class=MsoNormal style='line-height:115%'>Look in 'Sinks' for a way to
      stop the simulation.</li>
  <li class=MsoNormal style='line-height:115%'>Look in 'Logic and Bit
      Operations' for help with the stop condition. </li>
  <li class=MsoNormal style='line-height:115%'>Note the output data type for
      the condition block &amp; the input type for the &quot;Stop&quot; block. </li>
 </ol>
 <li class=MsoNormal style='line-height:115%'>Run your model to make sure it
     stops when the position reaches 0. </li>
 <li class=MsoNormal style='line-height:115%'>From the 'Simulation' menu,
     choose 'Configuration Parameters.' Change the numerical solver to ode23
     and make the max step size 1 second. </li>
</ol>

<p class=MsoNormal style='margin-left:.25in;line-height:115%'>&nbsp;</p>

<p class=MsoNormal>&nbsp;<a href="matlab:Step_03">Open the completed model.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>&nbsp;Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'>Does the simulation stop exactly
     when the position is 0? Disable <a
     href="web(%5bdocroot%20'/simulink/ug/simulating-dynamic-systems.html#f7-9506'])">zero-crossing
     detection</a> in the Compare to Constant block. </li>
 <li class=MsoNormal style='line-height:115%'>In the Scope parameters, turn off
     the limit on the number of data points plotted. (Look in the Data History
     tab.) </li>
 <li class=MsoNormal style='line-height:115%'>Plot the position and velocity as
     separate axes in the same scope. </li>
 <li class=MsoNormal style='line-height:115%'>Using the <a
     href="matlab:web([docroot%20'/simulink/ug/the-model-explorer-overview.html'%5d)">Model
     Explorer</a>, set up your own <a
     href="matlab:web([docroot%20'/simulink/gui/simulink-preferences-window-configuration-defaults-pane.html'%5d)">default
     Configuration Parameters<span style='color:windowtext;text-decoration:
     none'>.</span></a> </li>
</ul>

<h2><a name="_Toc249261044">Section 3: Vectorizing Signals and Model Hierarchy</a></h2>

<p class=MsoNormal>Simulink can pass vectors and matrices as signals, saving
you time and extra lines. This section will also show you how to create a
subsystem. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;<a href="matlab:Step_03">Open a model ready to proceed
with this step.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>&nbsp;Standard Instructions:</b></p>

<p class=MsoListParagraph style='text-indent:-.25in'>1.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make gravity a 3 element vector,
[0 0 -9.8]. </p>

<p class=MsoListParagraph style='text-indent:-.25in'>2.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Turn on the labels for signal
dimensions. From the 'Format' menu, go to Port/Signal Displays and select
Signal dimensions. Press Ctrl+D to <a
href="matlab:web([docroot%20'/simulink/ug/updating-a-block-diagram.html'%5d)">update
your diagram.</a> </p>

<p class=MsoListParagraph style='text-indent:-.25in'>3.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Modify initial conditions of
position to [0 0 500] and velocity to [8 -10 5]. </p>

<p class=MsoListParagraph style='text-indent:-.25in'>4.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Run the simulation and observe
results. Why does the simulation stop right away?</p>

<p class=MsoListParagraph style='text-indent:-.25in'>5.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Use the Selector block from the
Signal Routing library to select the third element of the position signal.
Label the output &quot;altitude&quot; and connect it to the Compare to Zero
block.</p>

<p class=MsoListParagraph style='text-indent:-.25in'>6.   Open the Scope
Parameter menu by clicking the second icon in the toolbar. Turn on Legends.</p>

<p class=MsoListParagraph style='text-indent:-.25in'>&nbsp;</p>

<p class=MsoNormal>&nbsp;<a href="matlab:Step_04">Open the completed model.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>&nbsp;Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'><a name="OLE_LINK4"></a><a
     name="OLE_LINK3">Supplement your scopes with Simulink signal viewers. 
     Right-click on the signal, go to 'Create &amp; Connect Viewer' and select
     a Simulink viewer. </a><a
     href="matlab:web([docroot%20'/simulink/ug/about-scope-blocks-signal-viewers-signal-logging-and-test-points.html'%5d)">Why
     might you want to do this<span style='color:windowtext;text-decoration:
     none'>?</span></a></li>
 <li class=MsoNormal style='line-height:115%'>Save the scope's data to the
     workspace via the History tab of the Scope Parameter menu. Select
     &quot;Inspect Logged Signals&quot; from the model Tool menu and use the
     Data Inspector to visualize results. </li>
</ul>

<h2><a name="_Toc249261045">Section 4: Library Basics</a></h2>

<p class=MsoNormal>This section shows the basics of libraries.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;&nbsp;<a href="matlab:Step_04">Open a model ready to
proceed with this step.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;&nbsp;<b>Standard Instructions:</b></p>

<p class=MsoListParagraph style='text-indent:-.25in'>1.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a
href="matlab:open('drag_library.mdl')">Open drag_library.mdl.</a></p>

<p class=MsoListParagraph style='text-indent:-.25in'>2.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Drag the Variable Density
subsystem to your falling object model above the integrators. <a
name="OLE_LINK1"></a><a name="OLE_LINK2"></a>Invert it by typing Ctrl+I.</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>3.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Set the Library
Link Display to 'User' via the Format menu.</p>

<p class=MsoListParagraph style='text-indent:-.25in'>4.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Connect your altitude and velocity
signals to the drag inports.</p>

<p class=MsoListParagraph style='text-indent:-.25in'>5.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Use a Gain block to scale the
output signal of the drag model by 1/m. Why?</p>

<p class=MsoListParagraph style='text-indent:-.25in'>6.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Use a Sum block to add your drag
and gravitational accelerations together and feed this cumulative result into
the velocity integrator.</p>

<p class=MsoListParagraph style='text-indent:-.25in'>7.<span style='font-size:
7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Define the parameters in MATLAB:
Cd = 0.333; A = 1.5; m = 150</p>

<p class=MsoListParagraph style='text-indent:-.25in'>&nbsp;</p>

<p class=MsoNormal>&nbsp;&nbsp;<a href="matlab:Step_05">Open the completed
model.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;&nbsp;<b>Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'>Find the '<a
     href="matlab:web([docroot%20'/simulink/ug/adding-libraries-to-the-library-browser.html'%5d)">Adding
     Libraries to the Library Browser</a>' section of Help.</li>
 <li class=MsoNormal style='line-height:115%'>Create an slblocks.m file that
     adds the drag library to the Simulink Browser.</li>
 <li class=MsoNormal style='line-height:115%'>Disable the link to the library
     by right-clicking on the block from within your lander model.</li>
 <li class=MsoNormal style='line-height:115%'>Make changes to the disabled library
     then push them to the library file by Resolving the Link.</li>
</ul>

<h2 style='margin:0in;margin-bottom:.0001pt'><a name="_Toc249261046">&nbsp;</a></h2>

<h2 style='margin:0in;margin-bottom:.0001pt'>Section 5: Masking Subsystems<a
name=5></a></h2>

<p style='margin:0in;margin-bottom:.0001pt'>This section shows how to mask
subsystems and add model callbacks.</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_05">Open
a model ready to proceed with this step.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<b>Standard
Instructions:</b></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='line-height:115%'><a
     href="matlab:open('drag_library.mdl')">Open drag_library.mdl</a><span
     class=MsoHyperlink> </span>and unlock the library via the Edit menu.</li>
 <li class=MsoNormal style='line-height:115%'>Right-click on Variable Density
     Model and choose 'Create Mask.'</li>
 <li class=MsoNormal style='line-height:115%'>Right-click on Constant Density
     Model and choose 'Edit Mask.'</li>
 <li class=MsoNormal style='line-height:115%'>Create a mask on Variable Density
     similar to the one on Constant Density. <a
     href="matlab:web([docroot%20'/simulink/masking.html'%5d)">More help on
     masking.</a></li>
 <li class=MsoNormal style='line-height:115%'>Save drag_library.mdl and update
     your main model.</li>
 <li class=MsoNormal style='line-height:115%'>From the menu, go to 'File',
     'Model Properties.' Click on the <a
     href="matlab:web([docroot%20'/simulink/ug/using-callback-functions.html'%5d)">callbacks</a>
     tab and select 'PostLoadFcn.' Type MATLAB code to define the mass variable
     <span style='font-family:"Courier New"'>m</span> in the given field. </li>
</ol>

<p class=MsoNormal style='line-height:115%'>&nbsp;</p>

<p class=MsoNormal>&nbsp;<a href="matlab:drag_library_masked">Open the library
with masked subsystems.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;<a href="matlab:Step_06">Open
the completed model.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<b>Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'>Define the mass in the <a
     href="matlab:web([docroot%20'/simulink/ug/using-model-workspaces.html'%5d)">model
     workspace.</a></li>
 <li class=MsoNormal style='line-height:115%'>Add a configurable subsystem
     template to the drag library and make drag a configurable subsystem in
     your model. Use the set_param command to programmatically switch between
     the two drag model configurations.</li>
 <li class=MsoNormal style='line-height:115%'>Open variant_drag.mdl and observe
     a Variant Subsystem. Add this block to your Simulink model. Right-click on
     block to check Subsystem Parameters and override variant choice. </li>
</ul>

<h2 style='margin:0in;margin-bottom:.0001pt'><a name="_Toc249261047">&nbsp;</a></h2>

<h2 style='margin:0in;margin-bottom:.0001pt'>Section 6: Buses<a name=6></a></h2>

<p style='margin:0in;margin-bottom:.0001pt'>This section introduces buses as a
means to organize your signals.</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_06">Open
a model ready to proceed with this step.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<b>Standard
Instructions:</b></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Click and
     hold the mouse as you drag the cursor across the model. Make sure all
     blocks are selected.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Convert to a
     subsystem by right-clicking on one of the blocks and selecting
     &quot;Create Subsystem.&quot; Name the subsystem &quot;Plant.&quot;</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Double-click
     on Plant to open it. Go to Sources in the library browser and add an
     inport (&quot;In1&quot;) to Plant and name it &quot;thrust.&quot;</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Add the
     thrust to the gravity and drag accelerations (remember to also scale it by
     1/m). At the root level, make thrust a constant set to [0 0 1000].</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>From the
     Signal Routing library, grab a Bus Creator block and put it in the Plant
     subsystem. Connect the position and velocity signals to the Bus Creator
     inputs. Feed this <a
     href="matlab:web([docroot%20'/simulink/slref/simulink.bus.html'%5d)">bus</a><span
     class=MsoHyperlink> </span>into a new outport named &quot;State&quot;.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Move the
     scope blocks from the Plant subsystem to the top model layer. Use a Bus
     Selector block at the root level to get the position and velocity signals
     back out of the bus and connect them to the Scopes.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Run your
     model and observe the signal lines.</li>
</ol>

<p class=MsoNormal style='line-height:115%'>&nbsp;</p>

<p class=MsoNormal>&nbsp;&nbsp;<a href="matlab:Step_07">Open the completed
model.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<b>Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'>Name the bus signal and <a
     href="matlab:web([docroot%20'/simulink/signal-logging.html'%5d)">log</a>
     it <a href="matlab:web([docroot%20'/simulink/slref/toworkspace.html'%5d)">to
     the workspace.</a> How is the data stored?</li>
 <li class=MsoNormal style='line-height:115%'>Use From and Goto blocks to
     connect position and velocity to the Bus Creator.</li>
</ul>

<h2 style='margin:0in;margin-bottom:.0001pt'><a name="_Toc249261048">&nbsp;</a></h2>

<h2 style='margin:0in;margin-bottom:.0001pt'>Section 7: More on Subsystems<a
name=7></a></h2>

<p style='margin:0in;margin-bottom:.0001pt'>This section talks more about types
of subsystems and how they affect how Simulink simulates your model. Algebraic
loops are also covered in the Advanced section. </p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_07">Open
a model ready to proceed with this step.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<b>Standard
Instructions:</b></p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>1.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Change the
constant ''thrust'' block to 'desired velocity' and set it to [0 0 -0.5].</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>2.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Add a Sum block
and set the second sign to negative.</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>3.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Difference
desired velocity with velocity and label the Sum's output as 'error.'</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>4.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Add a PID
Controller block in the Continuous library and make ''error'' its input. Supply
its output to the Plant model.</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>5.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Double-click on
the Controller block and set the controller to PI. Set the gains to 50 and 5.</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>6.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Create a
subsystem that includes the reference velocity, sum block, and PID block. Label
this subsystem 'Controller.'</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>7.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Connect Scopes to
'thrust' and 'error.'</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>8.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Show the block
execution order. Go to the menu, under Format, Block Displays, choose Sorted
Order. Update the diagram with Ctrl+D.</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>9.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Right-click on
the Controller subsystem and go to Subsystem Parameters. Check the box for
''Treat as atomic unit.'' Update the diagram.</p>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>&nbsp;</p>

<p class=MsoNormal>&nbsp;&nbsp;<a href="matlab:Step_08">Open the completed
model.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<b>Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'><a name="OLE_LINK6"></a><a
     name="OLE_LINK5">Make the Plant subsystem an atomic subsystem too. Update
     the diagram. </a><a
     href="matlab:web(%5bdocroot%20'/simulink/ug/simulating-dynamic-systems.html#f7-19688'])">What
     error do you get?</a></li>
 <li class=MsoNormal style='line-height:115%'>Add a Unit Delay block to the
     feedback signal from the Plant to the Controller.</li>
 <li class=MsoNormal style='line-height:115%'>Alternatively, in the Plant
     Subsystem Parameters, check the box for 'Minimize algebraic loop
     occurrences.' Update/play model. Uncheck that box in the Plant subsystem
     and try checking it in the Controller subsystem. Do you get an error? </li>
 <li class=MsoNormal style='line-height:115%'>Uncheck the algebraic loop box in
     the Controller subsystem and change the Plant back to a virtual subsystem.</li>
 <li class=MsoNormal style='line-height:115%'>Use the <a
     href="matlab:web([docroot%20'/simulink/debugging.html'%5d)">Simulink
     Debugger</a> to view block execution order.</li>
</ul>

<p class=MsoNormal style='line-height:115%'>&nbsp;</p>

<p class=MsoNormal style='line-height:115%'><a href="matlab:Step_08_controls">Open
a model ready for control design.</a></p>

<p class=MsoNormal style='line-height:115%'><b>&nbsp;</b></p>

<p class=MsoNormal style='line-height:115%'><b>  Control Design Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'><a
     name="OLE_LINK8"></a><a name="OLE_LINK7">Split the velocity signal into X,
     Y, and Z components and use 3 PID control blocks (or </a><a
     href="matlab:Step_08_controls">open existing model</a>).</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Make sure all
     controllers are PI with gain values of 1 and 1.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Double-click
     on the Z controller and set the controller’s lower saturation limit to
     zero in the PID Advanced tab.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Push the Tune
     button in the Main tab.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Adjust
     response time. Adjust phase margin and bandwidth by setting the Design
     Mode to Extended.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Attempt to
     tune the X controller and see if the response is stable.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'><a
     name="OLE_LINK10"></a><a name="OLE_LINK9">If it isn’t, set the Z
     controller gains to 50 and 5.  Push the “Design with new plant model”
     button and linearize about a simulation snapshot of 10 secs.</a></li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Set the Plot
     to Step disturbance rejection and tune the controller.</li>
</ul>

<p class=MsoNormal style='line-height:115%;text-autospace:none'>&nbsp;</p>

<p class=MsoNormal style='line-height:115%;text-autospace:none'><b>Advanced
Control Design Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Try other
     types of controllers (PID, P, PD, etc).</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Observe
     cross-coupling by changing one controller and trying to Tune another.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Discretize
     the controllers and discover what conditions lead to instability in the
     linearized model.</li>
</ul>

<h2 style='margin:0in;margin-bottom:.0001pt'><a name="_Toc249261049">&nbsp;</a></h2>

<h2 style='margin:0in;margin-bottom:.0001pt'>Section 8: Referencing Models<a
name=8></a></h2>

<p style='margin:0in;margin-bottom:.0001pt'>This section introduces referenced
models, creating them and simulating with them.</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_08">Open
a model ready to proceed with this step.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<b>Standard
Instructions:</b></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Right-click
     on the Controller subsystem and select 'Convert to Model Block.' Take note
     of any errors or warnings you get, but continue the conversion.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Delete the
     Controller subsystem and drag in the block from the newly created model,
     untitled.mdl.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Double-click
     on the new Controller block. Open up the Plant subsystem. What do you
     notice about the title bars of each? Also look in the Current Directory
     Browser.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Go to
     Configuration Parameters for the Controller model. Under Optimization
     -&gt; Signals and Parameters, check &quot;Inline parameters.&quot; Run the
     simulation.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Right-click
     on the Controller Model block and select &quot;ModelReference
     Parameters&quot;. Change the Simulation Mode from Normal to Accelerator.
     Run the simulation</li>
</ol>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_09">Open
the completed model.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'><b>&nbsp;&nbsp;Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'>What files are needed to run your
     model now? Check out Tools -&gt; Model Dependencies -&gt; <a
     href="matlab:web([docroot%20'/simulink/ug/model-dependency-viewer.html'%5d)">Model
     Dependency Viewer</a> and <a
     href="matlab:web([docroot%20'/simulink/ug/model-dependencies.html#bq2ik30'])">Generate
     Manifest.</a></li>
 <li class=MsoNormal style='line-height:115%'>What's the <a
     href="matlab:web([docroot%20'/simulink/slref/simulink.subsystem.converttomodelreference.html'%5d)">command
     line way</a> to convert an atomic subsystem to a model reference? Can you
     go back to a subsystem from a model? </li>
</ul>

<p class=MsoNormal style='line-height:115%'><a name="_Toc249261050">&nbsp;</a></p>

<h2 style='margin:0in;margin-bottom:.0001pt'>Section 9: Controlling Sample
Rates<a name=9></a></h2>

<p style='margin:0in;margin-bottom:.0001pt'>This section talks about how to
view and control sample rates within a model.</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_09">Open
a model ready to proceed with this step.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'><b>&nbsp;&nbsp;Standard
Instructions:</b></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Double-click
     on the PI Controller. Set the Time-domain to Discrete. Set the sample time
     to 0.5.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'><span
     style='font-size:7.0pt;line-height:115%'> </span>In the main model, Set <a
     href="matlab:web([docroot%20'/simulink/ug/how-to-view-sample-time-information.html'%5d)">Sample
     Time Display</a> to &quot;Color&quot; via the Format menu. Note the error
     message.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Double-click
     the Controller's thrust outport and set the Sample Time to inherited via
     the Signal Attributes tab. Update the diagram.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Double-click
     the Controller's velocity inport and set the Sample Time to inherited via
     the Signal Attributes tab. Update the diagram.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Add Rate
     Transition blocks from the Signal Attributes library before and after the
     referenced model. Update the diagram.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Change the
     Controller's Solver options to Fixed Step Discrete to avoid warnings.</li>
</ol>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_10">Open
the completed model.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'><b>&nbsp;&nbsp;Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'>What if you had continuous states
     in your referenced model?</li>
 <li class=MsoNormal style='line-height:115%'>What are <a
     href="matlab:web([docroot%20'/simulink/configuration-sets.html'%5d)">some
     ways</a> to organize your configuration sets? Specifically, try using
     cset=Simulink.ConfigSet to create the configuration sets to be used in
     each of your models and then load that configuration set in a callback and
     point your model to it. </li>
</ul>

<p class=MsoNormal>&nbsp;</p>

<h2 style='margin:0in;margin-bottom:.0001pt'><a name="_Toc249261051">Section
10: MATLAB </a><a name=10></a>Functions and Bus Objects</h2>

<p style='margin:0in;margin-bottom:.0001pt'>This section shows how to bring
MATLAB code into Simulink and how to create bus objects.</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_10">Open
a model ready to proceed with this step.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'><b>&nbsp;&nbsp;Standard
Instructions:</b></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Change the
     Controller such that desired velocity is a function of altitude.
     Right-click on the reference model, select ModelReference parameters, and
     change the Model Name to 'Controller_Step_11.' Note the inport's use of
     stateBus in the Signal Attributes.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Change the
     input to the Controller; supply State instead of velocity.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Go to Tools
     -&gt; Bus Editor and create a new bus named stateBus. It should have two
     signals in it, one called position with has dimension of 3 and one called
     velocity which has dimension of 3. Hit Apply and look in your workspace
     for the new bus object.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Save stateBus
     to a mat file. Add a ''load &lt;mat file&gt;'' to the main model''s
     PostLoadFcn.</li>
 <li class=MsoNormal style='line-height:115%;text-autospace:none'>Run your
     model and see how it looks!</li>
</ol>

<p class=MsoListParagraph style='text-indent:-.25in;text-autospace:none'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;&nbsp;<a href="matlab:Step_11">Open
the completed model.</a></p>

<p style='margin:0in;margin-bottom:.0001pt'>&nbsp;</p>

<p style='margin:0in;margin-bottom:.0001pt'><b>&nbsp;&nbsp;Advanced Skills:</b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='line-height:115%'>When would you want to use MATLAB
     Function and when would you want to use an <a
     href="matlab:web([docroot%20'/simulink/sfg/using-s-functions-in-models.html'%5d)">S-Function?</a></li>
 <li class=MsoNormal style='line-height:115%'>Click the link in the model to generate
     C code from your Controller.</li>
 <li class=MsoNormal style='line-height:115%'>Click the link in the model to
     generate PLC code from your Controller.</li>
 <li class=MsoNormal style='line-height:115%'>Click the link in the model to
     generate HDL code from your Controller.</li>
</ul>

</div>

</body>

</html>
