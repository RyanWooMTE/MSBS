
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Truth Table block creation for user defined tests</title><meta name="generator" content="MATLAB 7.13"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2013-01-04"><meta name="DC.source" content="cd035_xls2TestObjective.m"><style type="text/css">

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head><body><div class="content"><h1>Truth Table block creation for user defined tests</h1><!--introduction--><div><ul><li>Support MATLAB R2007a</li><li>Requires Simulink&reg; and Stateflow&reg;.</li><li>Requires Simulink Verification and Validation&#8482;</li><li>Requires Simulink Design Verifier&#8482;</li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Functional details</a></li><li><a href="#2">How this feature can be used?</a></li><li><a href="#3">Rules for specifying user defined test.</a></li><li><a href="#4">How to run</a></li></ul></div><h2>Functional details<a name="1"></a></h2><p>This function can be used to generate tests which an user wanted and to compare Simulink outputs with expected output easily by using Simulink Design Verifier.</p><p><b>(1) Specify input test vectors and expected outputs in Excel spread sheet.</b></p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd035_xls2TestObjective_pic01.png" alt=""> </p><p><b>(2) Click "User defined test" button</b></p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd035_xls2TestObjective_pic02.png" alt=""> </p><p><b>(3) A model will be created like following</b></p><p>You need to place the generated "UserDefinedTest" block into your model and connect lines to corresponding signals as listed in the Excel sheet.</p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd035_xls2TestObjective_pic03.png" alt=""> </p><p><b>Explanation of (A) Compare_ExpectedOutputs Truth Table in Fig.(3)</b></p><p>In this Truth Table block, a logic of verification criteria is described by using propositional logic "implies":   (~P||Q). For example, the following conditions are desired in case01 in the Excel sheet.</p><pre>When X0==uint8(1) &amp;&amp; X1==uint8(2) &amp;&amp; Y==double(3) is satisfied,
abs(Z-int16(4))&lt;=0 &amp;&amp; abs(Z2-double(5))&lt;=0 should be satisfied.</pre><p>If this condition is falsified, the output "out" of Truth Table block becomes 1. As a result, a violation will be asserted from Assertion block.</p><p>If there are no corresponding inputs with each conditions in Condition Table, the output "out" becomes 0 and Assertion block will not be asserted.</p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd035_xls2TestObjective_pic05.png" alt=""> </p><p><b>Explanation of (B)TestObjective Truth Table in Fig.(3)</b></p><p>In this Truth Table block, it is configured to generate tests which satisfy conditions case01-03 in the Excel sheet by using Test case generation provided by Simulink Design Verifier. "sldv.test(1)" in the action table offers Simulink Design Verifier to generate a test input to reach to the action row.</p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd035_xls2TestObjective_pic04.png" alt=""> </p><h2>How this feature can be used?<a name="2"></a></h2><p>There are two types of usage of this feature.</p><div><ul><li><b>Test generation + Simulation</b> By using Test generation feature of Simulink Design Verifier, you can create Test harness with test vectors which gives expected inputs specified in the Excel sheet. You can examine the relation between inputs and expected outputs by running simulation. This means that you don't need to create test vectors manually.</li></ul></div><div><ul><li><b>Use property proving</b> By running property proving feature of Simulink Design Verifier for the model containing a block generated by this feature, proving will be done for the verification propositions specified in Compare_ExpectedOutputs Truth Table block. If there are input patterns which make violation for the verification propositions, Test harness model including corresponding counterexamples will be generated. You can examine the counterexamples by running simulation for the Test harness model.</li></ul></div><h2>Rules for specifying user defined test.<a name="3"></a></h2><div><ul><li>Row 1: Specify variable names in 2nd column and after. These variables names correspond to input names of Truth Table block.</li><li>Row 2: Specify labels u&lt;n&gt; or e&lt;n&gt; , where a label "u&lt;n&gt;" shows n-th input and "e&lt;n&gt;" shows n-th expected output.</li><li>Row 3: Specify datatype name for each signals (double, single, int8, uint8, int16, uint16, int32, uint32, boolean)</li><li>Row 4: Specify a name of a test case in the 1st column and specify values of each inputs and expected outputs corresponding to each column.</li></ul></div><h2>How to run<a name="4"></a></h2><div><ol><li>Open cmtdtool_sampledata_en.xls in cmtdtool's install directory.</li><li>Select A4:F9 in "UserDefinedTest" sheet.</li><li>Click "User defined test" button in the cmtdtool GUI.</li><li>"UserDefinedTest" subsystem will be created in a new model.</li><li>Run the following commands and you will see that the same operation can be done by API call.</li></ol></div><pre class="codeinput"> xls2TestObjective(<span class="string">'cmtdtool_sampledata_en.xls'</span>,<span class="string">'UserDefinedTest'</span>,<span class="string">'A4:F9'</span>);
</pre><p class="footer"><br>
      Published with MATLAB&reg; 7.13<br></p></div><!--
##### SOURCE BEGIN #####
%% Truth Table block creation for user defined tests
%
% * Support MATLAB R2007a
% * Requires Simulink(R) and Stateflow(R).
% * Requires Simulink Verification and Validation(TM)
% * Requires Simulink Design Verifier(TM)
%
 
%% Functional details
% This function can be used to generate tests which an user wanted and to
% compare Simulink outputs with expected output easily by using Simulink
% Design Verifier.
%
% *(1) Specify input test vectors and expected outputs in Excel spread sheet.*
%
% <<d02_Excel2TruthTable/cd035_xls2TestObjective_pic01.png>>
%
% *(2) Click "User defined test" button*
%
% <<d02_Excel2TruthTable/cd035_xls2TestObjective_pic02.png>>
%
% *(3) A model will be created like following*
%
% You need to place the generated "UserDefinedTest" block into your model
% and connect lines to corresponding signals as listed in the Excel sheet.
%
% <<d02_Excel2TruthTable/cd035_xls2TestObjective_pic03.png>>
%
% *Explanation of (A) Compare_ExpectedOutputs Truth Table in Fig.(3)*
%
% In this Truth Table block, a logic of verification criteria is described
% by using propositional logic "implies":
%   (~P||Q). 
% For example, the following conditions are desired in case01 in the Excel
% sheet.
%
%  When X0==uint8(1) && X1==uint8(2) && Y==double(3) is satisfied,
%  abs(Z-int16(4))<=0 && abs(Z2-double(5))<=0 should be satisfied.
%
% If this condition is falsified, the output "out" of Truth Table block
% becomes 1.
% As a result, a violation will be asserted from Assertion block.
%
% If there are no corresponding inputs with each conditions in Condition
% Table, the output "out" becomes 0 and Assertion block will not be asserted.
%
% <<d02_Excel2TruthTable/cd035_xls2TestObjective_pic05.png>>
%
% *Explanation of (B)TestObjective Truth Table in Fig.(3)*
% 
% In this Truth Table block, it is configured to generate tests which satisfy conditions
% case01-03 in the Excel sheet by using Test case generation provided
% by Simulink Design Verifier.
% "sldv.test(1)" in the action table offers Simulink Design Verifier 
% to generate a test input to reach to the action row. 
%
% <<d02_Excel2TruthTable/cd035_xls2TestObjective_pic04.png>>
%
%% How this feature can be used?
% There are two types of usage of this feature.
%
% * *Test generation + Simulation*
% By using Test generation feature of Simulink Design Verifier,
% you can create Test harness with test vectors which gives expected inputs
% specified in the Excel sheet. You can examine the relation between inputs
% and expected outputs by running simulation. This means that you don't
% need to create test vectors manually.
%
% * *Use property proving*
% By running property proving feature of Simulink Design Verifier for the 
% model containing a block generated by this feature, 
% proving will be done for the verification propositions specified in 
% Compare_ExpectedOutputs Truth Table block.
% If there are input patterns which make violation for the verification
% propositions, Test harness model including corresponding counterexamples
% will be generated. You can examine the counterexamples by running
% simulation for the Test harness model.
 
%% Rules for specifying user defined test.
% * Row 1: Specify variable names in 2nd column and after. These variables
% names correspond to input names of Truth Table block.
% * Row 2: Specify labels u<n> or e<n> , where a label "u<n>" shows n-th input and "e<n>" shows n-th expected output.  
% * Row 3: Specify datatype name for each signals (double, single, int8, uint8, int16, uint16, int32, uint32, boolean) 
% * Row 4: Specify a name of a test case in the 1st column and specify
% values of each inputs and expected outputs corresponding to each column.
 
 
%% How to run
% # Open cmtdtool_sampledata_en.xls in cmtdtool's install directory.
% # Select A4:F9 in "UserDefinedTest" sheet.
% # Click "User defined test" button in the cmtdtool GUI.
% # "UserDefinedTest" subsystem will be created in a new model.
% # Run the following commands and you will see that the same operation can be done by API call.
 xls2TestObjective('cmtdtool_sampledata_en.xls','UserDefinedTest','A4:F9');

##### SOURCE END #####
--></body></html>