
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Generate TruthTable block for Requirement-based Testing</title><meta name="generator" content="MATLAB 7.13"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2013-01-04"><meta name="DC.source" content="cd040_xls2RequirementBaseTestTruthTable.m"><style type="text/css">

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head><body><div class="content"><h1>Generate TruthTable block for Requirement-based Testing</h1><!--introduction--><div><ul><li>Requires Simulink Verification and Validation&#8482;</li><li>Requires Simulink Design Verifier&#8482;</li><li>Requires Simulink&reg; and Stateflow&reg;</li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Functional detail</a></li><li><a href="#2">How to use this feature</a></li><li><a href="#3">Rules for writing the Verification condition</a></li><li><a href="#4">Running a demo</a></li></ul></div><h2>Functional detail<a name="1"></a></h2><p>This feature generates a requirement model that can be used for doing Requirement-based Testing using Simulink Design Verifier functionality.</p><p><b>(1) Describe the verification equations and descriptions for them in an Excel spread sheet as below example and select the region in the Excel.</b></p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic01.png" alt=""> </p><p><b>(2) Click "Requirement-based testing" button</b></p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic02.png" alt=""> </p><p><b>(3) A subsystem block will be automatically generated as following figure.</b></p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic03.png" alt=""> </p><p><b>Explanation of (A) in the above figure</b></p><p>A Truth Table block in the below figure is generated for the (A) part in the above figure. This (A) part is to generate test objectives to achieve P condition of "P implies Q" described by "P -&gt; Q" in Verification conditions columns in the Excel. The "sldv.test(1)" in the Action column in the Truth Table block represents a test objective to be generated by Simulink Design Verifier feature. With this (A) part, test cases achieving every P conditions in P -&gt; Q format in the given Excel spread sheet can be generated.</p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic04.png" alt=""> </p><p><b>Explanation of (B) in the above figure</b></p><p>A Truth Table block in the below figure is generated for the (B) part in the above figure. This part is to verify the "P implies Q" condition by either by simulation or Property Proving provided by Simulink Design Verifier. "P -&gt; Q" is translated to ~(P) || (Q) as shown in Condition column in the Truth Table block. Test cases achieving P condition obtained by the (A) part can be verified by this (B) part by simulations. If "P -&gt; Q" is falsified by simulation, the Truth Table block outputs an integer number other than zero. Then Proof block connected to the Truth Table block throws an assertion during simulation at the time the violation occurred.</p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic05.png" alt=""> </p><p>Place generated "VerificationSubsystem" into the controller model and wire related signals with appropriate signal lines.</p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic06.png" alt=""> </p><h2>How to use this feature<a name="2"></a></h2><p>There are two ways of using this feature</p><p><b>Test generation and simulation</b></p><p>If you run test generation of Simulink Design Verifier, test cases achieving P conditions represented by "P -&gt; Q" in the Excel by (A) part. Then, you can verify that the expected output "Q" is satisfied when P is exercised in the (B) part in the generated harness model. If Q is not satisfied when corresponding P is exercised, the Assertion block will throw an assertion during simulation. With this usage, you can obtain a set of a test case and a result of verification for every lines of your requirement specifications (verification equations) written in Excel spread sheet.</p><p><b>Note</b> : By setting "Model coverage objectives" to "None", Simulink Design Verifier generates test cases achieving only on test objectives specified by a user.</p><p><img vspace="5" hspace="5" src="d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic07.png" alt=""> </p><p><b>Using formal verification</b></p><p>If you run Property Proving for your model, Formal verification will be applied to the verification equations provided in the Excel. If there is a violation, a counter example will be generated.</p><h2>Rules for writing the Verification condition<a name="3"></a></h2><div><ul><li>1st column "Description": Used as comments in the model. Do not affect for simulation.</li><li>2nd column "Verification conditions": Specify conditions corresponding to the 1st column. You can write MATLAB equation including arithmetic operator, logical operator, relational operator, and so on. You can use "implies" operator with "-&gt;". The  A -&gt; B is simply replaced by ~A || B.</li></ul></div><p><b>Note</b>: Currently, the temporal logic operator is not supported by this feature. You can use Delay block for referring the past signal.</p><h2>Running a demo<a name="4"></a></h2><div><ol><li>Open cmtdtool_sampledata.xls in cmtdtool\demo folder.</li><li>Select B2:C6 in "RequirementBasedTest" sheet.</li><li>Click "Requirement-based testing" button in cmtdtool.</li><li>Check that "VerificationSubsystem" is generated in a new model.</li><li>Run the following command and you will see that the same operation can be done by API.</li></ol></div><pre class="codeinput">xls2RequirementBaseTestTruthTable(<span class="string">'cmtdtool_sampledata_en.xls'</span>,<span class="string">'RequirementBasedTest'</span>,<span class="string">'B2:C6'</span>);
</pre><p class="footer"><br>
      Published with MATLAB&reg; 7.13<br></p></div><!--
##### SOURCE BEGIN #####
%% Generate TruthTable block for Requirement-based Testing
%
% * Requires Simulink Verification and Validation(TM)
% * Requires Simulink Design Verifier(TM)
% * Requires Simulink(R) and Stateflow(R)
%

%% Functional detail
% This feature generates a requirement model that can be used for doing Requirement-based
% Testing using Simulink Design Verifier functionality.
%
% *(1) Describe the verification equations and descriptions for them in an Excel spread sheet
% as below example and select the region in the Excel.*
%
% <<d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic01.png>>
%
% *(2) Click "Requirement-based testing" button*
%
% <<d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic02.png>>
%
% *(3) A subsystem block will be automatically generated as following figure.*
%
% <<d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic03.png>>
%
% *Explanation of (A) in the above figure*
%
% A Truth Table block in the below figure is generated for the (A) part in
% the above figure.
% This (A) part is to generate test objectives to achieve P condition of "P
% implies Q" described by "P -> Q" in Verification conditions columns in the Excel. 
% The "sldv.test(1)" in the Action column in the Truth Table block represents a test objective to
% be generated by Simulink Design Verifier feature. 
% With this (A) part, test cases achieving every P conditions in P -> Q
% format in the given Excel spread sheet can be generated.
%
% <<d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic04.png>>
%
% *Explanation of (B) in the above figure*
%
% A Truth Table block in the below figure is generated for the (B) part in
% the above figure.
% This part is to verify the "P implies Q" condition by either by
% simulation or Property Proving provided by Simulink Design Verifier.
% "P -> Q" is translated to ~(P) || (Q) as shown in Condition column in the
% Truth Table block. 
% Test cases achieving P condition obtained by the (A) part can be verified by
% this (B) part by simulations.
% If "P -> Q" is falsified by simulation, the Truth Table block outputs
% an integer number other than zero. Then Proof block connected to the
% Truth Table block throws an assertion during simulation at the time the
% violation occurred.
%
% <<d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic05.png>>
%
% Place generated "VerificationSubsystem" into the controller model and wire
% related signals with appropriate signal lines.
%
% <<d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic06.png>>
%

%% How to use this feature
% There are two ways of using this feature
%
% *Test generation and simulation*
%
% If you run test generation of Simulink Design Verifier,
% test cases achieving P conditions represented by "P -> Q" in the Excel by (A) part.
% Then, you can verify that the expected output "Q" is satisfied 
% when P is exercised in the (B) part in the generated harness model. 
% If Q is not satisfied when corresponding P is exercised, the Assertion block
% will throw an assertion during simulation. 
% With this usage, you can obtain a set of a test case and a result of verification
% for every lines of your requirement specifications (verification equations)
% written in Excel spread sheet.
%
% *Note* : By setting "Model coverage objectives" to "None", Simulink Design Verifier
% generates test cases achieving only on test objectives specified by a
% user.
%
% <<d02_Excel2TruthTable/cd040_xls2RequirementBaseTestTruthTable_pic07.png>>
%
% *Using formal verification*
%
% If you run Property Proving for your model,
% Formal verification will be applied to the verification equations provided in the Excel.
% If there is a violation, a counter example will be generated.

%% Rules for writing the Verification condition
% * 1st column "Description": Used as comments in the model. Do not affect for simulation.
% * 2nd column "Verification conditions": Specify conditions corresponding to the 1st column. You can write MATLAB equation including arithmetic operator, logical operator, relational operator, and so on. You can use "implies" operator with "->". The  A -> B is simply replaced by ~A || B.
% 
% *Note*: Currently, the temporal logic operator is not supported by this feature. 
% You can use Delay block for referring the past signal.

%% Running a demo
% # Open cmtdtool_sampledata.xls in cmtdtool\demo folder.
% # Select B2:C6 in "RequirementBasedTest" sheet.
% # Click "Requirement-based testing" button in cmtdtool.
% # Check that "VerificationSubsystem" is generated in a new model.
% # Run the following command and you will see that the same operation can be done by API.
xls2RequirementBaseTestTruthTable('cmtdtool_sampledata_en.xls','RequirementBasedTest','B2:C6');

##### SOURCE END #####
--></body></html>